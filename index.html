<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="Style.css" />
    <script src="PageLayout.js"></script>
    <script src="Dijkstra.js"></script>
    <script src="AStar.JS"></script>
    <title>Path Finding Algorithms Visualization</title>

<script>
    function resetForm() {
        window.location.reload();
    }

    function callSearch() {
        let startRowIndex = 4;
        let startColIndex = 20;
        let endRowIndex = 4;
        let endColIndex = 50;

        if (newCellPositionStart != null) {
            startRowIndex = parseInt(
                newCellPositionStart.substring(
                    0,
                    newCellPositionStart.indexOf(',')
                )
            );
            startColIndex = parseInt(
                newCellPositionStart.substring(
                    newCellPositionStart.indexOf(',') + 1
                )
            );
        }

        if (newCellPositionFinish != null) {
            endRowIndex = parseInt(
                newCellPositionFinish.substring(
                    0,
                    newCellPositionFinish.indexOf(',')
                )
            );
            endColIndex = parseInt(
                newCellPositionFinish.substring(
                    newCellPositionFinish.indexOf(',') + 1
                )
            );
        }

        let chk = document.getElementById('chkDiagonal');
        let sel = document.getElementById('slAlgoName');        
        
        if (sel.value == 'dijkstra') {
            Dijkstra(
                startRowIndex,
                startColIndex,
                endRowIndex,
                endColIndex,
                chk.checked
            );
        }
        else if (sel.value == 'astar') {
            AStar(
                startRowIndex,
                startColIndex,
                endRowIndex,
                endColIndex,
                chk.checked
            );
        }        
    }
</script>
</head>
<body>
    <div id="container">
        <div id="info">
            <p style="text-align: center;"><u>INSTRUCTIONS:-</u></p>
            <p>1) Click within the white grid to create obstacles.</p>
            <p>2) Drag the green node to set the start position.</p>
            <p>3) Drag the red node to set the end position.</p>
            <p>4) Choose algorithm from dropdown list.</p>
            <p>5) Click the Go button to start animation.</p>
            <select id="slAlgoName">
                <option value="dijkstra">Dijkstra</option>
                <option value="astar">A*</option>
            </select>
            <br /><br />
            <input type="checkbox" id="chkDiagonal" value="Diagonal" />
            Allow diagonal<br /><br />
            <button type="button" class="button" id="btnGo" onclick="callSearch()">
                Go!
            </button>
            <br />
            <br />
            <input type="reset" class="button" onclick="resetForm()" />
        </div>
    </div>
</body>

</html>
